<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

  <body>

    <ui:composition template="/WEB-INF/templates/template.xhtml">

      <ui:define name="top">
        Remove a user
      </ui:define>

      <ui:define name="content">
        <f:view>

          <h:form>
            <h1><h:outputText value="Click Remove on the row"/></h1>
            <p:dataTable value="#{supprimerUtilisateur.allLoginsSaufLoginActuel}" 
                         var="login" rowKey="#{user.login}"
                         tableStyle="width:auto">
              <p:column>
                <f:facet name="header">
                  <h:outputText value="Login"/>
                </f:facet>
                <h:outputText value="#{login.login}"/>
              </p:column>
              <p:column>
                <f:facet name="header">
                  <h:outputText value="Email"/>
                </f:facet>
                <h:outputText value="#{login.email}"/>
              </p:column>
              <p:column>
                <f:facet name="header">
                  <h:outputText value=""/>
                </f:facet>
                <p:commandLink action="#{supprimerUtilisateur.supprimerLogin(login)}" 
                               title="Remove this user"
                               value="Remove">
                  <p:confirm header="Confirm for remove"
                             message="Do you want to remove #{login.login}?" />
                </p:commandLink>


              </p:column>
            </p:dataTable>
            <p:confirmDialog global="true">
              <p:commandButton value="Oui" type="button" 
                               styleClass="ui-confirmdialog-yes"/>
              <p:commandButton value="Non" type="button" 
                               styleClass="ui-confirmdialog-no"/>
            </p:confirmDialog>

          </h:form>
        </f:view>

      </ui:define>

    </ui:composition>

  </body>
</html>
